import{b as o,o as d,d as m,e as a,_ as F,a2 as T,f as P,w as n,a3 as w,a4 as O,a5 as I,m as r,V as U,a as $,h as c,F as D,t as j,y as V}from"./index-a143b474.js";import{u as B}from"./data-a6c0002d.js";import{a as R}from"./axios-4a70c6fc.js";const q={__name:"Pagination",props:{current:{default:1},pageSize:{default:10},total:{default:0},showQuickJumper:{type:Boolean,default:!0},pageSizeOptions:{type:Array,default:()=>["10","20","40","80","200"]},toChangePage:{type:Function,default:()=>{}},toChangePageSize:{type:Function,default:()=>{}}},setup(e){const t=e;return(i,s)=>{const h=o("a-pagination");return d(),m("div",null,[a(h,{current:t.current,"onUpdate:current":s[0]||(s[0]=l=>t.current=l),"page-size":t.pageSize,"onUpdate:pageSize":s[1]||(s[1]=l=>t.pageSize=l),"show-quick-jumper":e.showQuickJumper,"page-size-options":e.pageSizeOptions,total:t.total,"show-total":l=>`一共${t.total}条数据`,onChange:e.toChangePage,onShowSizeChange:e.toChangePageSize},null,8,["current","page-size","show-quick-jumper","page-size-options","total","show-total","onChange","onShowSizeChange"])])}}},_=R.create({timeout:3e3});_.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});_.interceptors.response.use(function(e){if(e.status===200)return e;console.log("接口返回错误",e.statusText)},function(e){return Promise.reject(e)});const J=[{title:"序号",key:"sn",align:"center",width:"4%",scopedSlots:{customRender:"sn"}},{title:"用户名称",dataIndex:"name",key:"name",align:"center"},{title:"联系电话",dataIndex:"phoneNum",key:"phoneNum",align:"center"},{title:"邮箱地址",dataIndex:"email",key:"email",align:"left"},{title:"用户留言",dataIndex:"message",key:"message",align:"left"}],x=T({components:{Panination:q,SearchOutlined:w,SettingOutlined:O,GlobalOutlined:I},setup(){return{userData:B,columns:J,dataForTable:r([]),userName:r(""),phoneNum:r(""),userStore:U(),router:$(),toSpin:r(!1),current:r(1),total:r(100),pageSize:r(10)}},methods:{toSearch(){console.log(JSON.stringify("production")+" joju"),this.toSpin=!0;let e=this.userName,t=Math.floor(Math.random()*901)+100;setTimeout(()=>{e.length==0&&!this.phoneNum?this.dataForTable=this.userData:(this.dataForTable=this.userData.filter(i=>i.name.includes(e)),this.phoneNum&&(this.dataForTable=this.dataForTable.filter(i=>i.phoneNum.includes(this.phoneNum)))),this.toSpin=!1,this.total=this.dataForTable.length},t)},toReset(){this.userName="",this.phoneNum="",this.toSearch()},toChangePage(e,t){this.pageSize=t,this.current=e,this.toSearch()}},created(){this.dataForTable=this.userData,this.userStore.userInfor.forEach(e=>{let t=e.name,i=!1;for(let s=0;s<this.dataForTable.length;s++)this.dataForTable[s].name==t&&(i=!0);i||this.dataForTable.push(e)}),this.total=this.dataForTable.length},mounted(){this.$websocket.connect()}}),E={style:{padding:"40px",background:"#fff",height:"88vh"}},M={class:"search-form"};function Q(e,t,i,s,h,l){const g=o("a-input"),p=o("a-form-item"),S=o("SearchOutlined"),f=o("a-button"),b=o("SettingOutlined"),y=o("a-form"),N=o("a-divider"),C=o("a-table"),k=o("Panination"),z=o("a-spin");return d(),m("div",E,[P("div",M,[a(y,{layout:"inline"},{default:n(()=>[a(p,{label:"用户名"},{default:n(()=>[a(g,{placeholder:"请输入用户名称",value:e.userName,"onUpdate:value":t[0]||(t[0]=u=>e.userName=u)},null,8,["value"])]),_:1}),a(p,{label:"用户联系电话"},{default:n(()=>[a(g,{placeholder:"请输入联系电话",value:e.phoneNum,"onUpdate:value":t[1]||(t[1]=u=>e.phoneNum=u)},null,8,["value"])]),_:1}),a(p,null,{default:n(()=>[a(f,{type:"primary","html-type":"submit",onClick:e.toSearch,ghost:""},{icon:n(()=>[a(S)]),default:n(()=>[c(" 搜索 ")]),_:1},8,["onClick"])]),_:1}),a(p,null,{default:n(()=>[a(f,{type:"dashed",onClick:e.toReset},{icon:n(()=>[a(b)]),default:n(()=>[c(" 重置")]),_:1},8,["onClick"])]),_:1})]),_:1})]),a(N),a(z,{spinning:e.toSpin},{default:n(()=>[a(C,{scroll:{y:560},pagination:!1,columns:e.columns,dataSource:e.dataForTable},{bodyCell:n(({column:u,record:A,index:v})=>[u.key==="sn"?(d(),m(D,{key:0},[c(j(v+1),1)],64)):V("",!0)]),_:1},8,["columns","dataSource"]),a(k,{style:{float:"right","margin-top":"20px"},current:e.current,total:e.total,pageSize:e.pageSize,toChangePage:e.toChangePage},null,8,["current","total","pageSize","toChangePage"])]),_:1},8,["spinning"])])}const L=F(x,[["render",Q],["__scopeId","data-v-79bbf348"]]);export{L as default};
